"use strict";(self.webpackChunkcollider_client=self.webpackChunkcollider_client||[]).push([[91],{91:(e,n,s)=>{s.r(n),s.d(n,{default:()=>d});var a=s(950),t=s(74),l=s(557),i=(s(437),s(414));const d=()=>{const{events:e,loading:n,error:s,filters:d,fetchEvents:c,removeEvent:m,setFilters:r}=(0,l.L)(),[h,o]=a.useState(null),v=d.status||"all";(0,a.useEffect)((()=>{c()}),[d,c]);const j=e=>{r({...d,status:e})};return(0,i.jsxs)("div",{className:"admin-events-list",children:[(0,i.jsxs)("div",{className:"admin-events-header",children:[(0,i.jsx)("h2",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c\u0438"}),(0,i.jsx)(t.N_,{to:"/admin/events/create",className:"admin-btn admin-btn-primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"})]}),(0,i.jsxs)("div",{className:"admin-events-filters",children:[(0,i.jsx)("button",{className:"admin-filter-btn "+("all"===v?"active":""),onClick:()=>j("all"),children:"\u0412\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),(0,i.jsx)("button",{className:"admin-filter-btn "+("upcoming"===v?"active":""),onClick:()=>j("upcoming"),children:"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0438\u0435"}),(0,i.jsx)("button",{className:"admin-filter-btn "+("past"===v?"active":""),onClick:()=>j("past"),children:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435"})]}),s&&(0,i.jsx)("div",{className:"admin-error",children:s}),n?(0,i.jsx)("div",{className:"admin-loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439..."}):0===e.length?(0,i.jsxs)("div",{className:"admin-events-empty",children:["\u0421\u043e\u0431\u044b\u0442\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b. ","all"!==v&&"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440."]}):(0,i.jsx)("div",{className:"admin-events-table-container",children:(0,i.jsxs)("table",{className:"admin-events-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,i.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,i.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),(0,i.jsx)("th",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,i.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,i.jsx)("tbody",{children:e.map((e=>{return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"admin-event-image-cell",children:(0,i.jsx)("img",{src:e.image||"/images/event-placeholder.jpg",alt:e.title,className:"admin-event-thumbnail"})}),(0,i.jsx)("td",{children:e.title}),(0,i.jsx)("td",{children:(n=e.date,new Date(n).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"}))}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:`admin-event-status admin-event-status-${e.status}`,children:"upcoming"===e.status?"\u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0435\u0435":"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435"})}),(0,i.jsxs)("td",{className:"admin-event-actions",children:[(0,i.jsx)(t.N_,{to:`/admin/events/edit/${e._id}`,className:"admin-btn admin-btn-small admin-btn-secondary",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,i.jsx)("button",{onClick:()=>o(e),className:"admin-btn admin-btn-small admin-btn-danger",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},e._id);var n}))})]})}),h&&(0,i.jsx)("div",{className:"admin-events-modal-overlay",children:(0,i.jsxs)("div",{className:"admin-events-modal",children:[(0,i.jsx)("h3",{className:"admin-events-modal-title",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"}),(0,i.jsxs)("div",{className:"admin-events-modal-content",children:[(0,i.jsxs)("p",{children:['\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 "',h.title,'"?']}),(0,i.jsx)("p",{children:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."})]}),(0,i.jsxs)("div",{className:"admin-events-modal-actions",children:[(0,i.jsx)("button",{className:"admin-events-modal-button admin-events-modal-button-cancel",onClick:()=>o(null),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,i.jsx)("button",{className:"admin-events-modal-button admin-events-modal-button-delete",onClick:()=>(async e=>{try{await m(e),o(null)}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:",s)}})(h._id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})]})}},437:()=>{}}]);