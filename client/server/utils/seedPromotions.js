const mongoose = require('mongoose');
require('dotenv').config();
const Promotion = require('../models/Promotion');
const connectDB = require('../config/db');

// Массив с первоначальными данными для услуг промоушена
const promotions = [
  {
    title: 'Организация мероприятий',
    description: 'Полный цикл организации мероприятия - от идеи до реализации. Мы берем на себя все хлопоты по организации вашего события: разработку концепции, планирование, координацию, логистику и выполнение.',
    image: '/images/event-placeholder.jpg',
    category: 'organization',
    features: [
      'Разработка концепции мероприятия',
      'Подбор площадки и поставщиков',
      'Составление сметы и календарного плана',
      'Координация всех участников процесса',
      'Присутствие координатора на самом мероприятии',
      'Организация кейтеринга'
    ],
    pricing: 'от 15000 грн',
    status: 'active',
    featured: true,
    order: 1
  },
  {
    title: 'PR и продвижение',
    description: 'Продвижение мероприятий через социальные сети и медиа-партнеров. Создадим стратегию продвижения вашего события, разработаем контент-план и обеспечим охват целевой аудитории.',
    image: '/images/event-placeholder.jpg',
    category: 'promotion',
    features: [
      'Разработка PR-стратегии',
      'Создание и ведение страниц в социальных сетях',
      'Работа с лидерами мнений и инфлюенсерами',
      'Размещение информации у медиа-партнеров',
      'Создание и распространение пресс-релизов',
      'Анализ эффективности кампании'
    ],
    pricing: 'от 10000 грн',
    status: 'active',
    featured: true,
    order: 2
  },
  {
    title: 'Техническое обеспечение',
    description: 'Высококачественное звуковое и световое оборудование для вашего мероприятия. Профессиональные техники обеспечат бесперебойную работу всех систем и создадут нужную атмосферу.',
    image: '/images/event-placeholder.jpg',
    category: 'technical',
    features: [
      'Профессиональная звуковая система',
      'Световое оборудование премиум-класса',
      'Видеоэкраны и проекторы',
      'Техническое сопровождение мероприятия',
      'Монтаж и демонтаж оборудования',
      'Консультация по техническим вопросам'
    ],
    pricing: 'от 8000 грн',
    status: 'active',
    featured: true,
    order: 3
  },
  {
    title: 'Аудио продакшн',
    description: 'Создание профессиональных аудиоматериалов для вашего события или бренда. Записываем и микшируем музыку, рекламные ролики, подкасты и аудиооформление.',
    image: '/images/event-placeholder.jpg',
    category: 'production',
    features: [
      'Запись в профессиональной студии',
      'Профессиональные звукорежиссеры',
      'Микширование и мастеринг',
      'Озвучивание роликов',
      'Создание звуковых эффектов',
      'Разработка аудио-айдентики'
    ],
    pricing: 'от 5000 грн',
    status: 'active',
    featured: false,
    order: 4
  },
  {
    title: 'Консалтинг и планирование',
    description: 'Консультации по организации и проведению мероприятий. Поможем спланировать бюджет, выбрать концепцию и формат, подобрать подходящих подрядчиков.',
    image: '/images/event-placeholder.jpg',
    category: 'consulting',
    features: [
      'Анализ целевой аудитории',
      'Разработка концепции мероприятия',
      'Составление бюджета',
      'Рекомендации по выбору подрядчиков',
      'Консультации по маркетингу и PR',
      'Оценка рисков'
    ],
    pricing: 'от 3000 грн',
    status: 'active',
    featured: false,
    order: 5
  }
];

// Функция для заполнения базы данных
const seedPromotions = async () => {
  try {
    // Подключение к базе данных
    await connectDB();
    console.log('База данных MongoDB подключена');
    
    // Очистка коллекции перед заполнением
    await Promotion.deleteMany({});
    console.log('Существующие услуги промоушена удалены');
    
    // Заполнение базы данных начальными данными
    const createdPromotions = await Promotion.create(promotions);
    console.log(`Создано ${createdPromotions.length} услуг промоушена`);
    
    // Закрытие соединения с базой данных
    mongoose.connection.close();
    console.log('Соединение с базой данных закрыто');
    
    process.exit(0);
  } catch (error) {
    console.error('Ошибка при заполнении базы данных:', error);
    process.exit(1);
  }
};

// Запуск функции заполнения базы данных
seedPromotions();